<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>一分钱蜜雪冰城活动</title>
<style>
body { font-family: Arial; background:#f8f8f8; text-align:center; }
.container { max-width:420px; margin:auto; padding:20px; background:white; border-radius:12px; margin-top:20px; }
img { width:100%; border-radius:12px; }
input { width:100%; padding:12px; margin-top:12px; font-size:16px; }
button { width:100%; padding:14px; background:#e60012; color:white; border:none; margin-top:14px; font-size:16px; border-radius:8px; }
label { display:block; margin-top:10px; font-size:14px; text-align:left; }
</style>
</head>
<body>
<div class="container">
<img src="hero.jpg">

<h3>一分钱点蜜雪冰城奶茶</h3>

<input id="phone" placeholder="请输入11位手机号">

<label>
<input type="checkbox" id="agree"> 我同意隐私政策
</label>

<button onclick="submitPhone()">提交参与</button>

<p id="msg"></p>

<p style="font-size:12px;color:#666;margin-top:10px;">
手机号仅用于活动回访，不对外泄露
</p>
</div>

<script>
function submitPhone() {
  const phone = document.getElementById("phone").value;
  const agree = document.getElementById("agree").checked;

  if (!/^1\d{10}$/.test(phone)) {
    alert("请输入合法手机号");
    return;
  }

  if (!agree) {
    alert("请勾选授权");
    return;
  }

  fetch("/api/submit", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({ phone })
  })
  .then(r => r.json())
  .then(d => document.getElementById("msg").innerText = d.message);
}
</script>
</body>
</html>
